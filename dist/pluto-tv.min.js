/**!
 * @license Pluto-TV.js - A JavaScript library for fetching free Pluto TV streams. 
 * VERSION: 1.0.0
 * LICENSED UNDER MIT LICENSE
 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Pluto-TV.js/
 */ import{ParseM3U as t}from"https://cdn.jsdelivr.net/gh/MarketingPipeline/IPTV-Parser.js@v1.0.0/dist/iptv-parser.min.js";if("undefined"!=typeof node||"object"==typeof process)try{require("node-fetch")}catch(e){console.log("node-fetch is not installed. Please install node-fetch to use this script."),"undefined"!=typeof process&&process.exit(1)}export function PlutoTV(){async function e(t,e){try{if(!t)throw Error("No query was provided to search for.");let n=await r(e);return function t(e,n,r){for(var o=[],i=0;i<e.length;i++)e[i][n].includes(r)&&o.push(e[i]);return o}(n.items,"name",t)}catch(o){throw o}}async function n(t){try{return await r(t)}catch(e){throw e}}async function r(e){try{let n="us",r=["br","de","es","fr","mx","uk","us"];if(e){if(e=e.toLowerCase(),!function t(e){for(let n in r)if(e===r[n])return!0}(e))throw Error(`Language code is not valid for Pluto TV. Valid language codes are ${r}`);n=e}return t(`https://raw.githubusercontent.com/iptv-org/iptv/master/streams/${n}_pluto.m3u`,"URL")}catch(o){throw o}}return{searchChannels:e,fetchAllChannels:n}}
